---
title: Git ssh key
date: 2018-07-17 15:10:27
categories: 
- tools
tags:
- git
- sshkey
---

## 前言
SSH为Secure Shell的缩写，是建立在应用层基础上的安全协议,专为远程登陆会话和其他网络服务提供安全性协议。例如Git是分布式的代码管理工具，远程的代码管理是基于SSH的。从客户端来看SSH提供两种级别的安全验证。
第一种级别（基于口令的安全验证）只要你知道自己账号和口令，就可以登陆到远程主机。所有的传输数据都会被加密，但是不能保证你正在连接的服务器就是你想连接的服务器。可能会有别的服务器在冒充真正的服务器，也就是受到中间人这种方式的攻击。
第二种级别（基于密匙的安全验证）需要依靠密匙，也就是你必须为自己创建一对密匙，并把公用的密匙放到需要访问的服务器上。如果你要连接到ssh服务器上，客户端软件就会向服务器发出请求，请求用你的密匙进行安全验证。服务器收到请求后，现在该服务器上你的主目录寻找你的公用密匙，然后把它和你发送过来的公用密匙进行比较。如果两个密匙一致，服务器就用公用密匙加密‘质询’并把它发送到客户端软件。客户端软件收到‘质询’之后就可以用你的私人密匙解密再把它发送给服务器。

## 一、检查是否生成过ssh密钥
> 1. cd ~/.ssh 

## 二、使用ssh-keygen生成ssh密钥
> 1. 使用ssh-keygen命令生成ssh密钥 ssh-keygen -t rsa  -C "540518665@qq.com" （enter后，第一个选择文件路径名称（example1）存储key，第二三选择密码空格就可以）
> 2. ssh-add example1(~/.ssh/xxx)
> 3. github上setting的SSH添加本地生成的example1 (cat ~/.ssh/xxx.pub)
> 4. 测试 ssh git@github.com

## 三、遇到问题
在使用ssh-keygen生成ssh密钥的时候，不输入文件名称默认生成～/.ssh/id_rsa，如果你有多个网络服务需要ssh密匙，建议给不同的密匙取不同的文件名，否则会发生密匙文件的覆盖，导致之前的密匙失效，对应的服务无法工作。